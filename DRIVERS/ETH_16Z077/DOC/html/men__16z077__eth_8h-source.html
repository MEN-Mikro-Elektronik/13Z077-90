<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Linux native Driver for 16Z077/87 Ethernet IP cores - men_16z077_eth.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Linux native Driver for 16Z077/87 Ethernet IP cores &nbsp; </h1>
	<h3>men_16z077_eth.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>men_16z077_eth.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _MEN_Z77_ETH_</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _MEN_Z77_ETH_</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include &lt;linux/netdevice.h&gt;</span>
00005 <span class="preprocessor">#include &lt;linux/etherdevice.h&gt;</span>
00006 <span class="preprocessor">#include &lt;linux/ethtool.h&gt;</span>
00007 <span class="preprocessor">#include &lt;linux/skbuff.h&gt;</span>
00008 
00009 <span class="comment">/* for EP05 support of mdio_bus facility was requested */</span>
00010 <span class="preprocessor">#if defined(CONFIG_MENEP05)</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;linux/phy.h&gt;</span>
00012 <span class="preprocessor">#  include &lt;linux/mii.h&gt;</span>
00013 <span class="preprocessor">#endif</span>
00014 <span class="preprocessor"></span>
00015 <span class="preprocessor">#if defined(CONFIG_VLAN_8021Q) || defined(CONFIG_VLAN_8021Q_MODULE)</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define Z77_USE_VLAN_TAGGING</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00018 <span class="preprocessor"></span>
00019 <span class="preprocessor">#define MEN_Z77_DRV_NAME  "MEN ETH: "</span>
00020 <span class="preprocessor"></span>
<a name="l00028"></a><a class="code" href="group____Z077MACS.html#a0">00028</a> <span class="preprocessor">#define Z77_MAC_OFFS_F11S   0x9ec000    </span>
<a name="l00029"></a><a class="code" href="group____Z077MACS.html#a1">00029</a> <span class="preprocessor">#define Z77_MAC_OFFS_F218   0x027000    </span>
<a name="l00030"></a><a class="code" href="group____Z077MACS.html#a2">00030</a> <span class="preprocessor">#define Z77_MAC_OFFS_P511   0x9cc000    </span>
<a name="l00031"></a><a class="code" href="group____Z077MACS.html#a3">00031</a> <span class="preprocessor">#define Z77_MAC_P511_IF2OFF 0x1000      </span>
<a name="l00032"></a><a class="code" href="group____Z077MACS.html#a4">00032</a> <span class="preprocessor">#define Z77_MAC_OFFS_P513   0xae2000    </span>
<a name="l00033"></a><a class="code" href="group____Z077MACS.html#a5">00033</a> <span class="preprocessor">#define Z77_MAC_P513_IF2OFF 0x1000      </span>
00034 <span class="preprocessor">#define MEN_F11S_SERNUM_MAX 16383</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F11S_SERNUM_BASE    0xc000</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F11S        11</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F218        218</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#define MEN_P511        511</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define MEN_P513        513</span>
00040 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="group____Z077BASES.html#a0">00049</a> <span class="preprocessor">#define Z077_BASE       ((void*)dev-&gt;base_addr) </span>
<a name="l00050"></a><a class="code" href="group____Z077BASES.html#a1">00050</a> <span class="preprocessor">#define Z077_BDBASE     (np-&gt;bdBase)  </span>
<a name="l00051"></a><a class="code" href="group____Z077BASES.html#a2">00051</a> <span class="preprocessor">#define Z077_BD_OFFS        (np-&gt;bdOff )  </span>
<a name="l00052"></a><a class="code" href="group____Z077BASES.html#a3">00052</a> <span class="preprocessor">#define TBD_OFF         (np-&gt;tbdOff ) </span>
<a name="l00053"></a><a class="code" href="group____Z077BASES.html#a4">00053</a> <span class="preprocessor">#define RBD_OFF         (np-&gt;rbdOff ) </span>
<a name="l00054"></a><a class="code" href="group____Z077BASES.html#a5">00054</a> <span class="preprocessor">#define Z77_ETHBUF_SIZE     0x1000        </span>
<a name="l00055"></a><a class="code" href="group____Z077BASES.html#a6">00055</a> <span class="preprocessor">#define Z77_CFGREG_SIZE     0x800         </span>
<a name="l00056"></a><a class="code" href="group____Z077BASES.html#a7">00056</a> <span class="preprocessor">#define MY_TX_TIMEOUT       (5*HZ)        </span>
<a name="l00057"></a><a class="code" href="group____Z077BASES.html#a8">00057</a> <span class="preprocessor">#define Z077_REG_BASE       (0)           </span>
<a name="l00058"></a><a class="code" href="group____Z077BASES.html#a9">00058</a> <span class="preprocessor">#define Z77_PACKLEN_DEFAULT     0x003c05fc    </span>
00060 <span class="preprocessor"></span>
00061 <span class="preprocessor"></span>
<a name="l00065"></a><a class="code" href="group____Z077__REGISTERS.html#a0">00065</a> <span class="preprocessor">#define Z077_REG_MODER      (Z077_REG_BASE+0x00) </span>
<a name="l00066"></a><a class="code" href="group____Z077__REGISTERS.html#a1">00066</a> <span class="preprocessor">#define Z077_REG_INT_SRC    (Z077_REG_BASE+0x04) </span>
<a name="l00067"></a><a class="code" href="group____Z077__REGISTERS.html#a2">00067</a> <span class="preprocessor">#define Z077_REG_INT_MASK   (Z077_REG_BASE+0x08) </span>
<a name="l00068"></a><a class="code" href="group____Z077__REGISTERS.html#a3">00068</a> <span class="preprocessor">#define Z077_REG_IPGT       (Z077_REG_BASE+0x0c) </span>
<a name="l00069"></a><a class="code" href="group____Z077__REGISTERS.html#a4">00069</a> <span class="preprocessor">#define Z077_REG_IPGR1      (Z077_REG_BASE+0x10) </span>
<a name="l00070"></a><a class="code" href="group____Z077__REGISTERS.html#a5">00070</a> <span class="preprocessor">#define Z077_REG_IPGR2      (Z077_REG_BASE+0x14) </span>
<a name="l00071"></a><a class="code" href="group____Z077__REGISTERS.html#a6">00071</a> <span class="preprocessor">#define Z077_REG_PACKLEN    (Z077_REG_BASE+0x18) </span>
<a name="l00072"></a><a class="code" href="group____Z077__REGISTERS.html#a7">00072</a> <span class="preprocessor">#define Z077_REG_COLLCONF   (Z077_REG_BASE+0x1c) </span>
<a name="l00073"></a><a class="code" href="group____Z077__REGISTERS.html#a8">00073</a> <span class="preprocessor">#define Z077_REG_TX_BDNUM   (Z077_REG_BASE+0x20) </span>
<a name="l00074"></a><a class="code" href="group____Z077__REGISTERS.html#a9">00074</a> <span class="preprocessor">#define Z077_REG_CTRLMODER  (Z077_REG_BASE+0x24) </span>
<a name="l00075"></a><a class="code" href="group____Z077__REGISTERS.html#a10">00075</a> <span class="preprocessor">#define Z077_REG_MIIMODER   (Z077_REG_BASE+0x28) </span>
<a name="l00076"></a><a class="code" href="group____Z077__REGISTERS.html#a11">00076</a> <span class="preprocessor">#define Z077_REG_MIICMD     (Z077_REG_BASE+0x2c) </span>
<a name="l00077"></a><a class="code" href="group____Z077__REGISTERS.html#a12">00077</a> <span class="preprocessor">#define Z077_REG_MIIADR     (Z077_REG_BASE+0x30) </span>
<a name="l00078"></a><a class="code" href="group____Z077__REGISTERS.html#a13">00078</a> <span class="preprocessor">#define Z077_REG_MIITX_DATA     (Z077_REG_BASE+0x34) </span>
<a name="l00079"></a><a class="code" href="group____Z077__REGISTERS.html#a14">00079</a> <span class="preprocessor">#define Z077_REG_MIIRX_DATA     (Z077_REG_BASE+0x38) </span>
<a name="l00080"></a><a class="code" href="group____Z077__REGISTERS.html#a15">00080</a> <span class="preprocessor">#define Z077_REG_MIISTATUS      (Z077_REG_BASE+0x3c) </span>
<a name="l00081"></a><a class="code" href="group____Z077__REGISTERS.html#a16">00081</a> <span class="preprocessor">#define Z077_REG_MAC_ADDR0  (Z077_REG_BASE+0x40) </span>
<a name="l00082"></a><a class="code" href="group____Z077__REGISTERS.html#a17">00082</a> <span class="preprocessor">#define Z077_REG_MAC_ADDR1  (Z077_REG_BASE+0x44) </span>
<a name="l00083"></a><a class="code" href="group____Z077__REGISTERS.html#a18">00083</a> <span class="preprocessor">#define Z077_REG_HASH_ADDR0     (Z077_REG_BASE+0x48) </span>
<a name="l00084"></a><a class="code" href="group____Z077__REGISTERS.html#a19">00084</a> <span class="preprocessor">#define Z077_REG_HASH_ADDR1     (Z077_REG_BASE+0x4c) </span>
<a name="l00085"></a><a class="code" href="group____Z077__REGISTERS.html#a20">00085</a> <span class="preprocessor">#define Z077_REG_TXCTRL     (Z077_REG_BASE+0x50) </span>
00087 <span class="preprocessor"></span>
00088 <span class="preprocessor"></span>
<a name="l00092"></a><a class="code" href="group____Z087__NEWREGS.html#a0">00092</a> <span class="preprocessor">#define Z077_REG_GLOBALRST  (Z077_REG_BASE+0x54) </span>
<a name="l00093"></a><a class="code" href="group____Z087__NEWREGS.html#a1">00093</a> <span class="preprocessor">#define Z077_REG_BDSTART    (Z077_REG_BASE+0x5c) </span>
<a name="l00094"></a><a class="code" href="group____Z087__NEWREGS.html#a2">00094</a> <span class="preprocessor">#define Z077_REG_RXEMPTY0   (Z077_REG_BASE+0x60) </span>
<a name="l00095"></a><a class="code" href="group____Z087__NEWREGS.html#a3">00095</a> <span class="preprocessor">#define Z077_REG_RXEMPTY1   (Z077_REG_BASE+0x64) </span>
<a name="l00096"></a><a class="code" href="group____Z087__NEWREGS.html#a4">00096</a> <span class="preprocessor">#define Z077_REG_TXEMPTY0   (Z077_REG_BASE+0x68) </span>
<a name="l00097"></a><a class="code" href="group____Z087__NEWREGS.html#a5">00097</a> <span class="preprocessor">#define Z077_REG_TXEMPTY1   (Z077_REG_BASE+0x6c) </span>
<a name="l00098"></a><a class="code" href="group____Z087__NEWREGS.html#a6">00098</a> <span class="preprocessor">#define Z077_REG_RXBDSTAT   (Z077_REG_BASE+0x70) </span>
<a name="l00099"></a><a class="code" href="group____Z087__NEWREGS.html#a7">00099</a> <span class="preprocessor">#define Z077_REG_SMBCTRL    (Z077_REG_BASE+0x74) </span>
<a name="l00101"></a><a class="code" href="group____Z087__NEWREGS.html#a8">00101</a> <span class="preprocessor">#define Z077_REG_COREREV    (Z077_REG_BASE+0x78) </span>
<a name="l00102"></a><a class="code" href="group____Z087__NEWREGS.html#a9">00102</a> <span class="preprocessor">#define Z077_REG_RXERRCNT1  (Z077_REG_BASE+0x7c) </span>
<a name="l00103"></a><a class="code" href="group____Z087__NEWREGS.html#a10">00103</a> <span class="preprocessor">#define Z077_REG_RXERRCNT2  (Z077_REG_BASE+0x80) </span>
<a name="l00104"></a><a class="code" href="group____Z087__NEWREGS.html#a11">00104</a> <span class="preprocessor">#define Z077_REG_TXERRCNT1  (Z077_REG_BASE+0x84) </span>
<a name="l00105"></a><a class="code" href="group____Z087__NEWREGS.html#a12">00105</a> <span class="preprocessor">#define Z077_REG_TXERRCNT2  (Z077_REG_BASE+0x88) </span>
00107 <span class="preprocessor">#define SMB_REG_SCL     0x1</span>
00108 <span class="preprocessor"></span><span class="preprocessor">#define SMB_REG_SDA     0x2</span>
00109 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="group____MACRO1.html#a0">00145</a> <span class="preprocessor">#define Z077_SET_TBD_ADDR(n,adr) \</span>
00146 <span class="preprocessor">    Z77WRITE_D32(Z077_BDBASE,  Z077_BD_OFFS+(((n)+TBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR, (adr))</span>
00147 <span class="preprocessor"></span>
00149 <span class="preprocessor">#define Z077_SET_RBD_ADDR(n,adr) \</span>
00150 <span class="preprocessor">    Z77WRITE_D32(Z077_BDBASE,  Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE)+ Z077_BD_OFFS_ADR, adr)</span>
<a name="l00151"></a><a class="code" href="group____MACRO1.html#a1">00151</a> <span class="preprocessor"></span>
00153 <span class="preprocessor">#define Z077_GET_RBD_ADDR(n) \</span>
00154 <span class="preprocessor">    Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + ( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR)</span>
00155 <span class="preprocessor"></span>
00157 <span class="preprocessor">#define Z077_GET_TBD_ADDR(n) \</span>
00158 <span class="preprocessor">    Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + ( ((n)+TBD_OFF) * Z077_BDSIZE)+Z077_BD_OFFS_ADR)</span>
00159 <span class="preprocessor"></span>
00161 <span class="preprocessor">#define Z077_SET_TBD_FLAG(n,f)   \</span>
00162 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE), \</span>
<a name="l00163"></a><a class="code" href="group____MACRO1.html#a3">00163</a> <span class="preprocessor">            Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE))| (f) )</span>
00164 <span class="preprocessor"></span>
00165 <span class="preprocessor">#define Z077_SET_RBD_FLAG(n,f) \</span>
00166 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE,\</span>
00167 <span class="preprocessor">            Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE)| (f) )</span>
00168 <span class="preprocessor"></span>
<a name="l00169"></a><a class="code" href="group____MACRO1.html#a4">00169</a> <span class="preprocessor">#define Z077_CLR_TBD_FLAG(n,f) \</span>
00170 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + (((n)+TBD_OFF) * Z077_BDSIZE),\</span>
00171 <span class="preprocessor">            Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + (((n)+TBD_OFF) * Z077_BDSIZE)) &amp; ~(f) )</span>
00172 <span class="preprocessor"></span>
00174 <span class="preprocessor">#define Z077_CLR_RBD_FLAG(n,f)\</span>
00175 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE,\</span>
<a name="l00176"></a><a class="code" href="group____MACRO1.html#a5">00176</a> <span class="preprocessor">            Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE) &amp; ~(f) )</span>
00177 <span class="preprocessor"></span>
00179 <span class="preprocessor">#define Z077_GET_RBD_FLAG(n,f)\</span>
00180 <span class="preprocessor">    (Z77READ_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+RBD_OFF)*Z077_BDSIZE)) &amp; (f) )</span>
00181 <span class="preprocessor"></span>
<a name="l00183"></a><a class="code" href="group____MACRO1.html#a6">00183</a> <span class="preprocessor">#define Z077_GET_TBD_FLAG(n,f) \</span>
00184 <span class="preprocessor">    (Z77READ_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE)) &amp; (f) )</span>
00185 <span class="preprocessor"></span>
00187 <span class="preprocessor">#define Z077_SET_TBD_LEN(n,l) \</span>
00188 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + Z077_BD_OFFS_LEN+( ((n)+TBD_OFF) * Z077_BDSIZE), (l));</span>
00189 <span class="preprocessor"></span>
<a name="l00191"></a><a class="code" href="group____MACRO1.html#a7">00191</a> <span class="preprocessor">#define Z077_GET_TBD_LEN(n) \</span>
00192 <span class="preprocessor">    Z77READ_D16(Z077_BDBASE,    Z077_BD_OFFS + Z077_BD_OFFS_LEN+( ((n)+TBD_OFF) * Z077_BDSIZE))</span>
00193 <span class="preprocessor"></span>
00195 <span class="preprocessor">#define Z077_GET_RBD_LEN(n) \</span>
00196 <span class="preprocessor">    Z77READ_D16(Z077_BDBASE,   Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_LEN )</span>
00197 <span class="preprocessor"></span>
<a name="l00199"></a><a class="code" href="group____MACRO1.html#a8">00199</a> <span class="preprocessor">#define Z077_CLR_RBD_LEN(n) \</span>
00200 <span class="preprocessor">    Z77WRITE_D16(Z077_BDBASE,  Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE)+Z077_BD_OFFS_LEN, 0 );</span>
00201 <span class="preprocessor"></span>
00203 <span class="preprocessor">#define Z077_GET_RBD_ADDR(n) \</span>
00204 <span class="preprocessor">    Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + ( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR)</span>
<a name="l00205"></a><a class="code" href="group____MACRO1.html#a9">00205</a> <span class="preprocessor"></span>
00207 <span class="preprocessor">#define Z077_RBD_EMPTY(n) Z077_GET_RBD_FLAG((n), OETH_RX_BD_EMPTY)</span>
00208 <span class="preprocessor"></span>
<a name="l00211"></a><a class="code" href="group____MACRO1.html#a10">00211</a> 
00216 <span class="preprocessor">#define OETH_TOTAL_BD       128     </span>
<a name="l00217"></a><a class="code" href="group____MACRO1.html#a11">00217</a> <span class="preprocessor">#define OETH_MAXBUF_LEN     0x610   </span>
00219 <span class="preprocessor"></span>
00220 <span class="preprocessor"></span>
00225 <span class="preprocessor">#define ETHT_MESSAGE_OFF    0           </span>
00226 <span class="preprocessor">#define ETHT_MESSAGE_LVL1   1           </span>
00227 <span class="preprocessor">#define ETHT_MESSAGE_LVL2   2           </span>
00228 <span class="preprocessor">#define ETHT_MESSAGE_LVL3   3           </span>
<a name="l00229"></a><a class="code" href="group____MACRO1.html#a13">00229</a> <span class="preprocessor">#define Z77_MAX_MSGLVL          ETHT_MESSAGE_LVL3       </span><span class="comment">/* to be set to highest LVL */</span>
00230 
00237 <span class="preprocessor">#define OETH_TX_BD_READY     0x8000   </span>
00238 <span class="preprocessor">#define OETH_TX_BD_IRQ       0x4000   </span>
00239 <span class="preprocessor">#define OETH_TX_BD_WRAP      0x2000   </span>
00240 <span class="preprocessor">#define OETH_TX_BD_PAD       0x1000   </span>
<a name="l00241"></a><a class="code" href="group____MACRO1.html#a14">00241</a> <span class="preprocessor">#define OETH_TX_BD_CRC       0x0800   </span>
00242 <span class="preprocessor">#define OETH_TX_BD_UNDERRUN  0x0100   </span>
00243 <span class="preprocessor">#define OETH_TX_BD_RETRY     0x00F0   </span>
00244 <span class="preprocessor">#define OETH_TX_BD_RETLIM    0x0008   </span>
00245 <span class="preprocessor">#define OETH_TX_BD_LATECOL   0x0004   </span>
00246 <span class="preprocessor">#define OETH_TX_BD_DEFER     0x0002   </span>
00247 <span class="preprocessor">#define OETH_TX_BD_CARRIER   0x0001   </span>
00249 <span class="preprocessor"></span>
00250 <span class="preprocessor"></span>
00255 <span class="preprocessor">#define OETH_RX_BD_EMPTY     0x8000 </span>
00256 <span class="preprocessor">#define OETH_RX_BD_IRQ       0x4000 </span>
00257 <span class="preprocessor">#define OETH_RX_BD_WRAP      0x2000 </span>
00258 <span class="preprocessor">#define OETH_RX_BD_MISS      0x0080 </span>
00259 <span class="preprocessor">#define OETH_RX_BD_OVERRUN   0x0040 </span>
<a name="l00260"></a><a class="code" href="group____ETHT1.html#a0">00260</a> <span class="preprocessor">#define OETH_RX_BD_INVSYMB   0x0020 </span>
<a name="l00261"></a><a class="code" href="group____ETHT1.html#a1">00261</a> <span class="preprocessor">#define OETH_RX_BD_DRIBBLE   0x0010 </span>
<a name="l00262"></a><a class="code" href="group____ETHT1.html#a2">00262</a> <span class="preprocessor">#define OETH_RX_BD_TOOLONG   0x0008 </span>
<a name="l00263"></a><a class="code" href="group____ETHT1.html#a3">00263</a> <span class="preprocessor">#define OETH_RX_BD_SHORT     0x0004 </span>
00264 <span class="preprocessor">#define OETH_RX_BD_CRCERR    0x0002 </span>
00265 <span class="preprocessor">#define OETH_RX_BD_LATECOL   0x0001 </span>
00267 <span class="preprocessor"></span>
00268 <span class="preprocessor"></span>
<a name="l00273"></a><a class="code" href="group____TXDB.html#a1">00273</a> <span class="preprocessor">#define REG_RXSTAT_REV      (1&lt;&lt;6)  </span>
<a name="l00274"></a><a class="code" href="group____TXDB.html#a2">00274</a> <span class="preprocessor">#define REG_RXSTAT_RXEMPTY  (1&lt;&lt;7)  </span>
<a name="l00276"></a><a class="code" href="group____TXDB.html#a4">00276</a> <span class="preprocessor"></span>
<a name="l00277"></a><a class="code" href="group____TXDB.html#a5">00277</a> <span class="preprocessor"></span>
<a name="l00281"></a><a class="code" href="group____TXDB.html#a9">00281</a> <span class="preprocessor">#define REG_COREREV_REVISION    (1&lt;&lt;0)  </span>
<a name="l00282"></a><a class="code" href="group____TXDB.html#a10">00282</a> <span class="preprocessor">#define REG_COREREV_IRQNEWEN    (1&lt;&lt;8)  </span>
00284 <span class="preprocessor"></span>
00285 <span class="preprocessor"></span>
00289 <span class="preprocessor">#define OETH_MODER_RXEN      (1&lt;&lt;0)  </span>
<a name="l00290"></a><a class="code" href="group____RXDB.html#a0">00290</a> <span class="preprocessor">#define OETH_MODER_TXEN      (1&lt;&lt;1)  </span>
<a name="l00291"></a><a class="code" href="group____RXDB.html#a1">00291</a> <span class="preprocessor">#define OETH_MODER_NOPRE     (1&lt;&lt;2)  </span>
<a name="l00292"></a><a class="code" href="group____RXDB.html#a2">00292</a> <span class="preprocessor">#define OETH_MODER_BRO       (1&lt;&lt;3)  </span>
<a name="l00293"></a><a class="code" href="group____RXDB.html#a3">00293</a> <span class="preprocessor">#define OETH_MODER_IAM       (1&lt;&lt;4)  </span>
<a name="l00294"></a><a class="code" href="group____RXDB.html#a4">00294</a> <span class="preprocessor">#define OETH_MODER_PRO       (1&lt;&lt;5)  </span>
<a name="l00295"></a><a class="code" href="group____RXDB.html#a5">00295</a> <span class="preprocessor">#define OETH_MODER_IFG       (1&lt;&lt;6)  </span>
<a name="l00296"></a><a class="code" href="group____RXDB.html#a6">00296</a> <span class="preprocessor">#define OETH_MODER_LOOPBCK   (1&lt;&lt;7)  </span>
<a name="l00297"></a><a class="code" href="group____RXDB.html#a7">00297</a> <span class="preprocessor">#define OETH_MODER_NOBCKOF   (1&lt;&lt;8)  </span>
<a name="l00298"></a><a class="code" href="group____RXDB.html#a8">00298</a> <span class="preprocessor">#define OETH_MODER_EXDFREN   (1&lt;&lt;9)  </span>
<a name="l00299"></a><a class="code" href="group____RXDB.html#a9">00299</a> <span class="preprocessor">#define OETH_MODER_FULLD     (1&lt;&lt;10) </span>
<a name="l00300"></a><a class="code" href="group____RXDB.html#a10">00300</a> <span class="preprocessor">#define OETH_MODER_RST       (1&lt;&lt;11) </span>
00301 <span class="preprocessor">#define OETH_MODER_DLYCRCEN  (1&lt;&lt;12) </span>
00302 <span class="preprocessor">#define OETH_MODER_CRCEN     (1&lt;&lt;13) </span>
00303 <span class="preprocessor">#define OETH_MODER_HUGEN     (1&lt;&lt;14) </span>
00304 <span class="preprocessor">#define OETH_MODER_PAD       (1&lt;&lt;15) </span>
00305 <span class="preprocessor">#define OETH_MODER_RECSMALL  (1&lt;&lt;16) </span>
00306 <span class="preprocessor">#define OETH_MODER_RX_IDLE   (1&lt;&lt;17) </span>
00307 <span class="preprocessor">#define OETH_MODER_TX_IDLE   (1&lt;&lt;18) </span>
<a name="l00308"></a><a class="code" href="group____RXST.html#a0">00308</a> <span class="preprocessor">#define OETH_MODER_HD_AVAL   (1&lt;&lt;19) </span>
<a name="l00309"></a><a class="code" href="group____RXST.html#a1">00309</a> <span class="preprocessor">#define OETH_MODER_NIOSSHIFT (1&lt;&lt;27) </span>
00310 <span class="preprocessor">#define OETH_MODER_COMPLI    (5&lt;&lt;29) </span>
00313 <span class="preprocessor"></span>
00314 <span class="preprocessor"></span>
00319 <span class="preprocessor">#define OETH_INT_TXB        0x0001 </span>
00320 <span class="preprocessor">#define OETH_INT_TXE        0x0002 </span>
00321 <span class="preprocessor">#define OETH_INT_RXF        0x0004 </span>
00322 <span class="preprocessor">#define OETH_INT_RXE        0x0008 </span>
00323 <span class="preprocessor">#define OETH_INT_BUSY       0x0010 </span>
<a name="l00324"></a><a class="code" href="group____MODER.html#a0">00324</a> <span class="preprocessor">#define OETH_INT_TXC        0x0020 </span>
<a name="l00325"></a><a class="code" href="group____MODER.html#a1">00325</a> <span class="preprocessor">#define OETH_INT_RXC        0x0040 </span>
<a name="l00327"></a><a class="code" href="group____MODER.html#a3">00327</a> <span class="preprocessor"></span>
<a name="l00328"></a><a class="code" href="group____MODER.html#a4">00328</a> <span class="preprocessor"></span>
<a name="l00332"></a><a class="code" href="group____MODER.html#a8">00332</a> <span class="preprocessor">#define OETH_INT_MASK_TXB       0x0001 </span>
<a name="l00333"></a><a class="code" href="group____MODER.html#a9">00333</a> <span class="preprocessor">#define OETH_INT_MASK_TXE       0x0002 </span>
<a name="l00334"></a><a class="code" href="group____MODER.html#a10">00334</a> <span class="preprocessor">#define OETH_INT_MASK_RXF       0x0004 </span>
<a name="l00335"></a><a class="code" href="group____MODER.html#a11">00335</a> <span class="preprocessor">#define OETH_INT_MASK_RXE       0x0008 </span>
<a name="l00336"></a><a class="code" href="group____MODER.html#a12">00336</a> <span class="preprocessor">#define OETH_INT_MASK_BUSY      0x0010 </span>
<a name="l00337"></a><a class="code" href="group____MODER.html#a13">00337</a> <span class="preprocessor">#define OETH_INT_MASK_TXC       0x0020 </span>
<a name="l00338"></a><a class="code" href="group____MODER.html#a14">00338</a> <span class="preprocessor">#define OETH_INT_MASK_RXC       0x0040 </span>
<a name="l00340"></a><a class="code" href="group____MODER.html#a16">00340</a> <span class="preprocessor"></span>
<a name="l00341"></a><a class="code" href="group____MODER.html#a17">00341</a> <span class="preprocessor"></span>
<a name="l00345"></a><a class="code" href="group____MODER.html#a21">00345</a> <span class="preprocessor">#define OETH_CTRLMODER_PASSALL  0x0001 </span>
00346 <span class="preprocessor">#define OETH_CTRLMODER_RXFLOW   0x0002 </span>
00347 <span class="preprocessor">#define OETH_CTRLMODER_TXFLOW   0x0004 </span>
00349 <span class="preprocessor"></span>
00350 <span class="preprocessor"></span>
<a name="l00354"></a><a class="code" href="group____INTS.html#a0">00354</a> <span class="preprocessor">#define OETH_MIIMODER_CLKDIV    0x00FF </span>
<a name="l00355"></a><a class="code" href="group____INTS.html#a1">00355</a> <span class="preprocessor">#define OETH_MIIMODER_NOPRE     0x0100 </span>
<a name="l00356"></a><a class="code" href="group____INTS.html#a2">00356</a> <span class="preprocessor">#define OETH_MIIMODER_RST       0x0200 </span>
<a name="l00358"></a><a class="code" href="group____INTS.html#a4">00358</a> <span class="preprocessor"></span>
<a name="l00359"></a><a class="code" href="group____INTS.html#a5">00359</a> <span class="preprocessor"></span>
00363 <span class="preprocessor">#define OETH_MIICMD_SCANSTAT    0x0001 </span>
00364 <span class="preprocessor">#define OETH_MIICMD_RSTAT       0x0002 </span>
00365 <span class="preprocessor">#define OETH_MIICMD_WCTRLDATA   0x0004 </span>
<a name="l00367"></a><a class="code" href="group____INTM.html#a0">00367</a> <span class="preprocessor"></span>
<a name="l00368"></a><a class="code" href="group____INTM.html#a1">00368</a> <span class="preprocessor"></span>
<a name="l00372"></a><a class="code" href="group____INTM.html#a5">00372</a> <span class="preprocessor">#define OETH_MIIADDRESS_FIAD    0x001F </span>
<a name="l00373"></a><a class="code" href="group____INTM.html#a6">00373</a> <span class="preprocessor">#define OETH_MIIADDRESS_RGAD    0x1F00 </span>
00375 <span class="preprocessor"></span>
00376 <span class="preprocessor"></span>
<a name="l00380"></a><a class="code" href="group____CTRLMODER.html#a0">00380</a> <span class="preprocessor">#define OETH_MIISTATUS_LINKFAIL 0x0001 </span>
<a name="l00381"></a><a class="code" href="group____CTRLMODER.html#a1">00381</a> <span class="preprocessor">#define OETH_MIISTATUS_BUSY     0x0002 </span>
<a name="l00382"></a><a class="code" href="group____CTRLMODER.html#a2">00382</a> <span class="preprocessor">#define OETH_MIISTATUS_NVALID   0x0004 </span>
00384 <span class="preprocessor"></span>
00385 <span class="preprocessor"></span>
<a name="l00390"></a><a class="code" href="group____MODERMII.html#a1">00390</a> <span class="preprocessor">#define Z077_PHY_ADDRESS    1</span>
<a name="l00391"></a><a class="code" href="group____MODERMII.html#a2">00391</a> <span class="preprocessor"></span><span class="preprocessor">#define MII_100_BASE_TX_PHY 0x1f</span>
00392 <span class="preprocessor"></span><span class="preprocessor">#define MII_100BASE_PWR     (1&lt;&lt;10)</span>
00393 <span class="preprocessor"></span><span class="preprocessor">#define Z077_WEIGHT             0x40 </span><span class="comment">/* shall be equal to ETH frame storage capacity */</span>
00394 
00402 <span class="preprocessor">#define Z077_BDSIZE     0x8  </span>
00403 <span class="preprocessor">#define Z077_TBD_NUM        0x40     </span>
00404 <span class="preprocessor">#define Z077_RBD_NUM        0x40     </span>
00405 <span class="preprocessor">#define Z077_BDALIGN        (1&lt;&lt;10)  </span>
<a name="l00407"></a><a class="code" href="group____MIIA.html#a0">00407</a> <span class="preprocessor"></span>
<a name="l00408"></a><a class="code" href="group____MIIA.html#a1">00408</a> <span class="preprocessor"></span>
00412 <span class="preprocessor">#define Z077_BD_AREA_SIZE ((Z077_TBD_NUM+Z077_RBD_NUM)*Z077_BDSIZE)</span>
00413 <span class="preprocessor"></span><span class="preprocessor">#define Z077_BD_OFFS_STAT   0x0  </span>
00414 <span class="preprocessor">#define Z077_BD_OFFS_LEN    0x2  </span>
<a name="l00415"></a><a class="code" href="group____MIISR.html#a0">00415</a> <span class="preprocessor">#define Z077_BD_OFFS_ADR    0x4  </span>
<a name="l00417"></a><a class="code" href="group____MIISR.html#a2">00417</a> <span class="preprocessor"></span>
00418 <span class="preprocessor"></span>
00422 <span class="preprocessor">#define Z077_TBD_RDY     0x8000 </span>
00423 <span class="preprocessor">#define Z077_TBD_IRQ     0x4000 </span>
00424 <span class="preprocessor">#define Z077_TBD_WRAP    0x2000 </span>
00425 <span class="preprocessor">#define Z077_TBD_PAD     0x1000 </span>
00426 <span class="preprocessor">#define Z077_TBD_CRC     0x0800 </span>
00427 <span class="preprocessor">#define Z077_TBD_UR      0x0100 </span>
00428 <span class="preprocessor">#define Z077_TBD_RETRY   0x00f0 </span>
00429 <span class="preprocessor">#define Z077_TBD_RTRANS  0x0008 </span>
00430 <span class="preprocessor">#define Z077_TBD_LCOLL   0x0004 </span>
00431 <span class="preprocessor">#define Z077_TBD_DEFER   0x0002 </span>
00432 <span class="preprocessor">#define Z077_TBD_CSLOST  0x0001 </span>
00434 <span class="preprocessor"></span>
00435 <span class="preprocessor"></span>
<a name="l00439"></a><a class="code" href="group____BDDEF.html#a2">00439</a> <span class="preprocessor">#define Z077_RBD_EMP    0x8000  </span>
<a name="l00440"></a><a class="code" href="group____BDDEF.html#a3">00440</a> <span class="preprocessor">#define Z077_RBD_IRQ    0x4000  </span>
00441 <span class="preprocessor">#define Z077_RBD_WRAP   Z077_TBD_WRAP</span>
00442 <span class="preprocessor"></span><span class="preprocessor">#define Z077_RBD_CFRM   0x0100 </span>
00443 <span class="preprocessor">#define Z077_RBD_MISS   0x0080 </span>
00444 <span class="preprocessor">#define Z077_RBD_OV 0x0040 </span>
00445 <span class="preprocessor">#define Z077_RBD_IS 0x0020 </span>
00446 <span class="preprocessor">#define Z077_RBD_DN 0x0010 </span>
00447 <span class="preprocessor">#define Z077_RBD_TL 0x0008 </span>
<a name="l00448"></a><a class="code" href="group____BDAREA.html#a1">00448</a> <span class="preprocessor">#define Z077_RBD_SF 0x0004 </span>
<a name="l00449"></a><a class="code" href="group____BDAREA.html#a2">00449</a> <span class="preprocessor">#define Z077_RBD_CERR   0x0002 </span>
<a name="l00450"></a><a class="code" href="group____BDAREA.html#a3">00450</a> <span class="preprocessor">#define Z077_RBD_LC     0x0001 </span>
00452 <span class="preprocessor"></span>
00453 <span class="preprocessor"></span>
00454 <span class="comment">/* Cache macros */</span>
00455 <span class="preprocessor">#define Z77WRITE_D32(ma,offs,val)   writel(val, (void*)(ma+offs))</span>
00456 <span class="preprocessor"></span><span class="preprocessor">#define Z77WRITE_D16(ma,offs,val)   writew(val, (void*)(ma+offs))</span>
<a name="l00457"></a><a class="code" href="group____TXBDBITS.html#a0">00457</a> <span class="preprocessor"></span><span class="preprocessor">#define Z77READ_D32(ma,offs)        readl((void*)(ma+offs))</span>
<a name="l00458"></a><a class="code" href="group____TXBDBITS.html#a1">00458</a> <span class="preprocessor"></span><span class="preprocessor">#define Z77READ_D16(ma,offs)        readw((void*)(ma+offs))</span>
<a name="l00459"></a><a class="code" href="group____TXBDBITS.html#a2">00459</a> <span class="preprocessor"></span>
<a name="l00464"></a><a class="code" href="group____TXBDBITS.html#a7">00464</a> <span class="preprocessor">#define Z077_DISABLE_IRQ(n) \</span>
<a name="l00465"></a><a class="code" href="group____TXBDBITS.html#a8">00465</a> <span class="preprocessor">    Z77WRITE_D32(Z077_BASE, Z077_REG_INT_MASK, \</span>
<a name="l00466"></a><a class="code" href="group____TXBDBITS.html#a9">00466</a> <span class="preprocessor">            (Z77READ_D32(Z077_BASE,Z077_REG_INT_MASK)) &amp; ~(n) )</span>
<a name="l00467"></a><a class="code" href="group____TXBDBITS.html#a10">00467</a> <span class="preprocessor"></span>
00469 <span class="preprocessor">#define Z077_ENABLE_IRQ(n) \</span>
00470 <span class="preprocessor">    Z77WRITE_D32(Z077_BASE, Z077_REG_INT_MASK, \</span>
00471 <span class="preprocessor">            Z77READ_D32(Z077_BASE, Z077_REG_INT_MASK)|(n))</span>
00472 <span class="preprocessor"></span>
<a name="l00474"></a><a class="code" href="group____RXBDBITS.html#a0">00474</a> <span class="preprocessor">#define Z077_CLR_MODE_FLAG(f) \</span>
<a name="l00475"></a><a class="code" href="group____RXBDBITS.html#a1">00475</a> <span class="preprocessor">    Z77WRITE_D32(Z077_BASE, Z077_REG_MODER, \</span>
00476 <span class="preprocessor">            Z77READ_D32(Z077_BASE, Z077_REG_MODER) &amp;~(f))</span>
<a name="l00477"></a><a class="code" href="group____RXBDBITS.html#a3">00477</a> <span class="preprocessor"></span>
<a name="l00479"></a><a class="code" href="group____RXBDBITS.html#a5">00479</a> <span class="preprocessor">#define Z077_SET_MODE_FLAG(f) \</span>
<a name="l00480"></a><a class="code" href="group____RXBDBITS.html#a6">00480</a> <span class="preprocessor">    Z77WRITE_D32(Z077_BASE, Z077_REG_MODER, \</span>
<a name="l00481"></a><a class="code" href="group____RXBDBITS.html#a7">00481</a> <span class="preprocessor">            Z77READ_D32(Z077_BASE, Z077_REG_MODER)|(f))</span>
<a name="l00482"></a><a class="code" href="group____RXBDBITS.html#a8">00482</a> <span class="preprocessor"></span>
<a name="l00484"></a><a class="code" href="group____RXBDBITS.html#a10">00484</a> 
<a name="l00485"></a><a class="code" href="group____RXBDBITS.html#a11">00485</a> 
00491 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structz077__reg__info.html">z077_reg_info</a>
00492 {
00493     <span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="structz077__reg__info.html#o0">name</a>;  
00494     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structz077__reg__info.html#o1">addr</a>;   
00495 } <a class="code" href="structz077__reg__info.html">Z077_REG_INFO</a>;
00502 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structphy__device__tbl.html">phy_device_tbl</a>
00503 {
00504     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structphy__device__tbl.html#o0">ident</a>; 
00505     <span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="structphy__device__tbl.html#o1">name</a>;  
00506 } <a class="code" href="structphy__device__tbl.html">PHY_DEVICE_TBL</a>;
00514 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structz077__bd.html">z077_bd</a> {
<a name="l00515"></a><a class="code" href="group____MACRO0.html#a2">00515</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="structz077__bd.html#o0">BdLen</a>;      
00516     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="structz077__bd.html#o1">BdStat</a>;     
00517     <span class="keywordtype">void</span> *      <a class="code" href="structz077__bd.html#o2">BdAddr</a>;     
00518     dma_addr_t  <a class="code" href="structz077__bd.html#o3">hdlDma</a>;     
00519 <span class="preprocessor">#if defined(Z77_USE_VLAN_TAGGING)</span>
00520 <span class="preprocessor"></span>    u32     vlan_tag;   
00521 <span class="preprocessor">#define RXD_LEN_MASK    0x0000ffff</span>
00522 <span class="preprocessor"></span><span class="preprocessor">#define RXD_LEN_SHIFT   0</span>
<a name="l00523"></a><a class="code" href="group____MACRO0.html#a3">00523</a> <span class="preprocessor"></span>    u32     type_flags;
00524 <span class="preprocessor">#define RXD_FLAG_VLAN   0x0040</span>
00525 <span class="preprocessor"></span>    u32     err_vlan;
00526 <span class="preprocessor">#define RXD_VLAN_MASK   0x0000ffff</span>
00527 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00528 <span class="preprocessor"></span>} <a class="code" href="structz077__bd.html">Z077_BD</a>;
00530 <span class="preprocessor">#endif </span><span class="comment">/* #ifndef _MEN_Z77_ETH_ */</span>
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Linux native Driver for 16Z077/87 Ethernet IP cores using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2019 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

